(function(e,r,t){var n,a,i,s;(function(){var e={},r={};n=function(r,t,n){e[r]={deps:t,callback:n}};s=i=a=function(t){if(r[t]){return r[t]}r[t]={};if(!e[t]){throw new Error("Could not find module "+t)}var n=e[t],i=n.deps,s=n.callback,o=[],l;for(var u=0,h=i.length;u<h;u++){if(i[u]==="exports"){o.push(l={})}else{o.push(a(d(i[u])))}}var f=s.apply(this,o);return r[t]=l||f;function d(e){if(e.charAt(0)!=="."){return e}var r=e.split("/");var n=t.split("/").slice(0,-1);for(var a=0,i=r.length;a<i;a++){var s=r[a];if(s===".."){n.pop()}else if(s==="."){continue}else{n.push(s)}}return n.join("/")}};s.entries=e})();n("router/handler-info",["exports","./utils","rsvp/promise"],function(e,r,t){"use strict";function n(e){var t=e||{};r.merge(this,t);this.initialize(t)}n.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(e,r){if(e.log){e.log(this.name+": "+r)}},promiseLabel:function(e){return r.promiseLabel("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(e,n){var a=r.bind(this,this.checkForAbort,e),i=r.bind(this,this.runBeforeModelHook,n),s=r.bind(this,this.getModel,n),o=r.bind(this,this.runAfterModelHook,n),l=r.bind(this,this.becomeResolved,n);return t["default"].resolve(undefined,this.promiseLabel("Start handler")).then(a,null,this.promiseLabel("Check for abort")).then(i,null,this.promiseLabel("Before model")).then(a,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(s,null,this.promiseLabel("Model")).then(a,null,this.promiseLabel("Check if aborted in 'model' hook")).then(o,null,this.promiseLabel("After model")).then(a,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(l,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(e){if(e.trigger){e.trigger(true,"willResolveModel",e,this.handler)}return this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,r){var t=this.name;this.stashResolvedModel(e,r);return this.runSharedModelHook(e,"afterModel",[r]).then(function(){return e.resolvedModels[t]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,n,a){this.log(e,"calling "+n+" hook");if(this.queryParams){a.push(this.queryParams)}a.push(e);var i=r.applyHook(this.handler,n,a);if(i&&i.isTransition){i=null}return t["default"].resolve(i,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,r){return t["default"].resolve(e(),this.promiseLabel("Check for abort")).then(function(){return r},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,r){e.resolvedModels=e.resolvedModels||{};e.resolvedModels[this.name]=r},becomeResolved:function(e,r){var t=this.serialize(r);if(e){this.stashResolvedModel(e,r);e.params=e.params||{};e.params[this.name]=t}return this.factory("resolved",{context:r,name:this.name,handler:this.handler,params:t})},shouldSupercede:function(e){if(!e){return true}var r=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!r||this.hasOwnProperty("params")&&!a(this.params,e.params)}};function a(e,r){if(!e^!r){return false}if(!e){return true}for(var t in e){if(e.hasOwnProperty(t)&&e[t]!==r[t]){return false}}return true}e["default"]=n});n("router/handler-info/factory",["exports","router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param"],function(e,r,t,n){"use strict";a.klasses={resolved:r["default"],param:n["default"],object:t["default"]};function a(e,r){var t=a.klasses[e],n=new t(r||{});n.factory=a;return n}e["default"]=a});n("router/handler-info/resolved-handler-info",["exports","../handler-info","router/utils","rsvp/promise"],function(e,r,t,n){"use strict";var a=t.subclass(r["default"],{resolve:function(e,r){if(r&&r.resolvedModels){r.resolvedModels[this.name]=this.context}return n["default"].resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:true});e["default"]=a});n("router/handler-info/unresolved-handler-info-by-object",["exports","../handler-info","router/utils","rsvp/promise"],function(e,r,t,n){"use strict";var a=t.subclass(r["default"],{getModel:function(e){this.log(e,this.name+": resolving provided model");return n["default"].resolve(this.context)},initialize:function(e){this.names=e.names||[];this.context=e.context},serialize:function(e){var r=e||this.context,n=this.names,a=this.handler;var i={};if(t.isParam(r)){i[n[0]]=r;return i}if(a.serialize){return a.serialize(r,n)}if(n.length!==1){return}var s=n[0];if(/_id$/.test(s)){i[s]=r.id}else{i[s]=r}return i}});e["default"]=a});n("router/handler-info/unresolved-handler-info-by-param",["exports","../handler-info","router/utils"],function(e,r,t){"use strict";var n=t.subclass(r["default"],{initialize:function(e){this.params=e.params||{}},getModel:function(e){var r=this.params;if(e&&e.queryParams){r={};t.merge(r,this.params);r.queryParams=e.queryParams}var n=this.handler;var a=t.resolveHook(n,"deserialize")||t.resolveHook(n,"model");return this.runSharedModelHook(e,a,[r])}});e["default"]=n});n("router/router",["exports","route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info"],function(e,r,t,n,a,i,s,o,l){"use strict";var u=Array.prototype.pop;var h=i.TransitionAborted;var f=i.logAbort;function d(){this.recognizer=new r["default"];this.reset()}function c(e,r){var t=!!this.activeTransition;var a=t?this.activeTransition.state:this.state;var s;var o=e.applyToState(a,this.recognizer,this.getHandler,r);var l=n.getChangelist(a.queryParams,o.queryParams);if(I(o.handlerInfos,a.handlerInfos)){if(l){s=this.queryParamsTransition(l,t,a,o);if(s){return s}}return new i.Transition(this)}if(r){m(this,o);return}s=new i.Transition(this,e,o);if(this.activeTransition){this.activeTransition.abort()}this.activeTransition=s;s.promise=s.promise.then(function(e){return b(s,e.state)},null,n.promiseLabel("Settle transition promise when transition is finalized"));if(!t){P(this,o,s)}v(this,o,l);return s}d.prototype={map:function(e){this.recognizer.delegate=this.delegate;this.recognizer.map(e,function(e,r){for(var t=r.length-1,n=true;t>=0&&n;--t){var a=r[t];e.add(r,{as:a.handler});n=a.path==="/"||a.path===""||a.handler.slice(-6)===".index"}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},queryParamsTransition:function(e,r,t,a){var s=this;v(this,a,e);if(!r&&this.activeTransition){return this.activeTransition}else{var o=new i.Transition(this);o.queryParamsOnly=true;t.queryParams=w(this,a.handlerInfos,a.queryParams,o);o.promise=o.promise.then(function(e){y(o,t,true);if(s.didTransition){s.didTransition(s.currentHandlerInfos)}return e},null,n.promiseLabel("Transition complete"));return o}},transitionByIntent:function(e,r){try{return c.apply(this,arguments)}catch(t){return new i.Transition(this,e,null,t)}},reset:function(){if(this.state){n.forEach(this.state.handlerInfos.slice().reverse(),function(e){var r=e.handler;n.callHook(r,"exit")})}this.state=new a["default"];this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var r=n.slice.call(arguments);if(e.charAt(0)!=="/"){r[0]="/"+e}return x(this,r).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(e){return x(this,arguments)},intermediateTransitionTo:function(e){return x(this,arguments,true)},refresh:function(e){var r=this.activeTransition?this.activeTransition.state:this.state;var t=r.handlerInfos;var a={};for(var i=0,o=t.length;i<o;++i){var l=t[i];a[l.name]=l.params||{}}n.log(this,"Starting a refresh transition");var u=new s["default"]({name:t[t.length-1].name,pivotHandler:e||t[0].handler,contexts:[],queryParams:this._changedQueryParams||r.queryParams||{}});return this.transitionByIntent(u,false)},replaceWith:function(e){return x(this,arguments).method("replace")},generate:function(e){var r=n.extractQueryParams(n.slice.call(arguments,1)),t=r[0],a=r[1];var i=new s["default"]({name:e,contexts:t});var o=i.applyToState(this.state,this.recognizer,this.getHandler);var l={};for(var u=0,h=o.handlerInfos.length;u<h;++u){var f=o.handlerInfos[u];var d=f.serialize();n.merge(l,d)}l.queryParams=a;return this.recognizer.generate(e,l)},applyIntent:function(e,r){var t=new s["default"]({name:e,contexts:r});var n=this.activeTransition&&this.activeTransition.state||this.state;return t.applyToState(n,this.recognizer,this.getHandler)},isActiveIntent:function(e,r,t,i){var o=i||this.state,l=o.handlerInfos,u=false,h,f,d,c,v,m;if(!l.length){return false}var p=l[l.length-1].name;var g=this.recognizer.handlersFor(p);var y=0;for(m=g.length;y<m;++y){d=l[y];if(d.name===e){break}}if(y===g.length){return false}var b=new a["default"];b.handlerInfos=l.slice(0,y+1);g=g.slice(0,y+1);var x=new s["default"]({name:p,contexts:r});var w=x.applyToHandlers(b,g,this.getHandler,p,true,true);var P=I(w.handlerInfos,b.handlerInfos);if(!t||!P){return P}var T={};n.merge(T,t);var H=o.queryParams;for(var q in H){if(H.hasOwnProperty(q)&&T.hasOwnProperty(q)){T[q]=H[q]}}return P&&!n.getChangelist(T,t)},isActive:function(e){var r=n.extractQueryParams(n.slice.call(arguments,1));return this.isActiveIntent(e,r[0],r[1])},trigger:function(e){var r=n.slice.call(arguments);n.trigger(this,this.currentHandlerInfos,false,r)},log:null,_willChangeContextEvent:"willChangeContext",_triggerWillChangeContext:function(e,r){n.trigger(this,e,true,[this._willChangeContextEvent,r])},_triggerWillLeave:function(e,r,t){n.trigger(this,e,true,["willLeave",r,t])}};function v(e,r,t){if(t){e._changedQueryParams=t.all;n.trigger(e,r.handlerInfos,true,["queryParamsDidChange",t.changed,t.all,t.removed]);e._changedQueryParams=null}}function m(e,r,t){var a=g(e.state,r);var i,s,o;for(i=0,s=a.exited.length;i<s;i++){o=a.exited[i].handler;delete o.context;n.callHook(o,"reset",true,t);n.callHook(o,"exit",t)}var l=e.oldState=e.state;e.state=r;var u=e.currentHandlerInfos=a.unchanged.slice();try{for(i=0,s=a.reset.length;i<s;i++){o=a.reset[i].handler;n.callHook(o,"reset",false,t)}for(i=0,s=a.updatedContext.length;i<s;i++){p(u,a.updatedContext[i],false,t)}for(i=0,s=a.entered.length;i<s;i++){p(u,a.entered[i],true,t)}}catch(h){e.state=l;e.currentHandlerInfos=l.handlerInfos;throw h}e.state.queryParams=w(e,u,r.queryParams,t)}function p(e,r,t,a){var i=r.handler,s=r.context;if(t){n.callHook(i,"enter",a)}if(a&&a.isAborted){throw new h}i.context=s;n.callHook(i,"contextDidChange");n.callHook(i,"setup",s,a);if(a&&a.isAborted){throw new h}e.push(r);return true}function g(e,r){var t=e.handlerInfos;var n=r.handlerInfos;var a={updatedContext:[],exited:[],entered:[],unchanged:[]};var i,s=false,o,l;for(o=0,l=n.length;o<l;o++){var u=t[o],h=n[o];if(!u||u.handler!==h.handler){i=true}if(i){a.entered.push(h);if(u){a.exited.unshift(u)}}else if(s||u.context!==h.context){s=true;a.updatedContext.push(h)}else{a.unchanged.push(u)}}for(o=n.length,l=t.length;o<l;o++){a.exited.unshift(t[o])}a.reset=a.updatedContext.slice();a.reset.reverse();return a}function y(e,r,t){var a=e.urlMethod;if(!a){return}var i=e.router,s=r.handlerInfos,o=s[s.length-1].name,l={};for(var u=s.length-1;u>=0;--u){var h=s[u];n.merge(l,h.params);if(h.handler.inaccessibleByURL){a=null}}if(a){l.queryParams=e._visibleQueryParams||r.queryParams;var f=i.recognizer.generate(o,l);if(a==="replace"){i.replaceURL(f)}else{i.updateURL(f)}}}function b(e,r){try{n.log(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");var a=e.router,i=r.handlerInfos,s=e.sequence;m(a,r,e);if(e.isAborted){a.state.handlerInfos=a.currentHandlerInfos;return t["default"].reject(e.logAbort(e))}y(e,r,e.intent.url);e.isActive=false;a.activeTransition=null;n.trigger(a,a.currentHandlerInfos,true,["didTransition"]);if(a.didTransition){a.didTransition(a.currentHandlerInfos)}n.log(a,e.sequence,"TRANSITION COMPLETE.");return i[i.length-1].handler}catch(o){if(!((o instanceof h))){var l=e.state.handlerInfos;e.trigger(true,"error",o,e,l[l.length-1].handler);e.abort()}throw o}}function x(e,r,t){var a=r[0]||"/";var i=r[r.length-1];var l={};if(i&&i.hasOwnProperty("queryParams")){l=u.call(r).queryParams}var h;if(r.length===0){n.log(e,"Updating query params");var f=e.state.handlerInfos;h=new s["default"]({name:f[f.length-1].name,contexts:[],queryParams:l})}else if(a.charAt(0)==="/"){n.log(e,"Attempting URL transition to "+a);h=new o["default"]({url:a})}else{n.log(e,"Attempting transition to "+a);h=new s["default"]({name:r[0],contexts:n.slice.call(r,1),queryParams:l})}return e.transitionByIntent(h,t)}function I(e,r){if(e.length!==r.length){return false}for(var t=0,n=e.length;t<n;++t){if(e[t]!==r[t]){return false}}return true}function w(e,r,t,a){for(var i in t){if(t.hasOwnProperty(i)&&t[i]===null){delete t[i]}}var s=[];n.trigger(e,r,true,["finalizeQueryParamChange",t,s,a]);if(a){a._visibleQueryParams={}}var o={};for(var l=0,u=s.length;l<u;++l){var h=s[l];o[h.key]=h.value;if(a&&h.visible!==false){a._visibleQueryParams[h.key]=h.value}}return o}function P(e,r,t){var a=e.state.handlerInfos,i=[],s=null,o,l,u,h,f,d;h=a.length;for(u=0;u<h;u++){f=a[u];d=r.handlerInfos[u];if(!d||f.name!==d.name){s=u;break}if(!d.isResolved){i.push(f)}}if(s!==null){o=a.slice(s,h);l=function(e){for(var r=0,t=o.length;r<t;r++){if(o[r].name===e){return true}}return false};e._triggerWillLeave(o,t,l)}if(i.length>0){e._triggerWillChangeContext(i,t)}n.trigger(e,a,true,["willTransition",t]);if(e.willTransition){e.willTransition(a,r.handlerInfos,t)}}e["default"]=d});n("router/transition-intent",["exports","./utils"],function(e,r){"use strict";function t(e){this.initialize(e);this.data=this.data||{}}t.prototype={initialize:null,applyToState:null};e["default"]=t});n("router/transition-intent/named-transition-intent",["exports","../transition-intent","../transition-state","../handler-info/factory","../utils"],function(e,r,t,n,a){"use strict";e["default"]=a.subclass(r["default"],{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name;this.pivotHandler=e.pivotHandler;this.contexts=e.contexts||[];this.queryParams=e.queryParams},applyToState:function(e,r,t,n){var i=a.extractQueryParams([this.name].concat(this.contexts)),s=i[0],o=i[1],l=r.handlersFor(s[0]);var u=l[l.length-1].handler;return this.applyToHandlers(e,l,t,u,n)},applyToHandlers:function(e,r,n,i,s,o){var l,u;var h=new t["default"];var f=this.contexts.slice(0);var d=r.length;if(this.pivotHandler){for(l=0,u=r.length;l<u;++l){if(n(r[l].handler)===this.pivotHandler){d=l;break}}}var c=!this.pivotHandler;for(l=r.length-1;l>=0;--l){var v=r[l];var m=v.handler;var p=n(m);var g=e.handlerInfos[l];var y=null;if(v.names.length>0){if(l>=d){y=this.createParamHandlerInfo(m,p,v.names,f,g)}else{y=this.getHandlerInfoForDynamicSegment(m,p,v.names,f,g,i,l)}}else{y=this.createParamHandlerInfo(m,p,v.names,f,g)}if(o){y=y.becomeResolved(null,y.context);var b=g&&g.context;if(v.names.length>0&&y.context===b){y.params=g&&g.params}y.context=b}var x=g;if(l>=d||y.shouldSupercede(g)){d=Math.min(l,d);x=y}if(s&&!o){x=x.becomeResolved(null,x.context)}h.handlerInfos.unshift(x)}if(f.length>0){throw new Error("More context objects were passed than there are dynamic segments for the route: "+i)}if(!s){this.invalidateChildren(h.handlerInfos,d)}a.merge(h.queryParams,this.queryParams||{});return h},invalidateChildren:function(e,r){for(var t=r,n=e.length;t<n;++t){var a=e[t];e[t]=e[t].getUnresolved()}},getHandlerInfoForDynamicSegment:function(e,r,t,i,s,o,l){var u=t.length;var h;if(i.length>0){h=i[i.length-1];if(a.isParam(h)){return this.createParamHandlerInfo(e,r,t,i,s)}else{i.pop()}}else if(s&&s.name===e){return s}else{if(this.preTransitionState){var f=this.preTransitionState.handlerInfos[l];h=f&&f.context}else{return s}}return n["default"]("object",{name:e,handler:r,context:h,names:t})},createParamHandlerInfo:function(e,r,t,i,s){var o={};var l=t.length;while(l--){var u=s&&e===s.name&&s.params||{};var h=i[i.length-1];var f=t[l];if(a.isParam(h)){o[f]=""+i.pop()}else{if(u.hasOwnProperty(f)){o[f]=u[f]}else{throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e)}}}return n["default"]("param",{name:e,handler:r,params:o})}})});n("router/transition-intent/url-transition-intent",["exports","../transition-intent","../transition-state","../handler-info/factory","../utils"],function(e,r,t,n,a){"use strict";e["default"]=a.subclass(r["default"],{url:null,initialize:function(e){this.url=e.url},applyToState:function(e,r,s){var o=new t["default"];var l=r.recognize(this.url),u={},h,f;if(!l){throw new i(this.url)}var d=false;for(h=0,f=l.length;h<f;++h){var c=l[h];var v=c.handler;var m=s(v);if(m.inaccessibleByURL){throw new i(this.url)}var p=n["default"]("param",{name:v,handler:m,params:c.params});var g=e.handlerInfos[h];if(d||p.shouldSupercede(g)){d=true;o.handlerInfos[h]=p}else{o.handlerInfos[h]=g}}a.merge(o.queryParams,l.queryParams);return o}});function i(e){this.message=e||"UnrecognizedURLError";this.name="UnrecognizedURLError"}});n("router/transition-state",["exports","./handler-info","./utils","rsvp/promise"],function(e,r,t,n){"use strict";function a(e){this.handlerInfos=[];this.queryParams={};this.params={}}a.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(e){var r="";t.forEach(this.handlerInfos,function(e){if(r!==""){r+="."}r+=e.name});return t.promiseLabel("'"+r+"': "+e)},resolve:function(e,r){var a=this;var i=this.params;t.forEach(this.handlerInfos,function(e){i[e.name]=e.params||{}});r=r||{};r.resolveIndex=0;var s=this;var o=false;return n["default"].resolve(null,this.promiseLabel("Start transition")).then(f,null,this.promiseLabel("Resolve handler"))["catch"](u,this.promiseLabel("Handle error"));function l(){return n["default"].resolve(e(),s.promiseLabel("Check if should continue"))["catch"](function(e){o=true;return n["default"].reject(e)},s.promiseLabel("Handle abort"))}function u(e){var t=s.handlerInfos;var a=r.resolveIndex>=t.length?t.length-1:r.resolveIndex;return n["default"].reject({error:e,handlerWithError:s.handlerInfos[a].handler,wasAborted:o,state:s})}function h(e){var n=s.handlerInfos[r.resolveIndex].isResolved;s.handlerInfos[r.resolveIndex++]=e;if(!n){var a=e.handler;t.callHook(a,"redirect",e.context,r)}return l().then(f,null,s.promiseLabel("Resolve handler"))}function f(){if(r.resolveIndex===s.handlerInfos.length){return{error:null,state:s}}var e=s.handlerInfos[r.resolveIndex];return e.resolve(l,r).then(h,null,s.promiseLabel("Proceed"))}}};e["default"]=a});n("router/transition",["exports","rsvp/promise","./handler-info","./utils"],function(e,r,t,n){"use strict";e.Transition=a;e.logAbort=i;e.TransitionAborted=s;function a(e,t,s,o){var l=this;this.state=s||e.state;this.intent=t;this.router=e;this.data=this.intent&&this.intent.data||{};this.resolvedModels={};this.queryParams={};if(o){this.promise=r["default"].reject(o);this.error=o;return}if(s){this.params=s.params;this.queryParams=s.queryParams;this.handlerInfos=s.handlerInfos;var u=s.handlerInfos.length;if(u){this.targetName=s.handlerInfos[u-1].name}for(var h=0;h<u;++h){var f=s.handlerInfos[h];if(!f.isResolved){break}this.pivotHandler=f.handler}this.sequence=a.currentSequence++;this.promise=s.resolve(d,this)["catch"](function(e){if(e.wasAborted||l.isAborted){return r["default"].reject(i(l))}else{l.trigger("error",e.error,l,e.handlerWithError);l.abort();return r["default"].reject(e.error)}},n.promiseLabel("Handle Abort"))}else{this.promise=r["default"].resolve(this.state);this.params={}}function d(){if(l.isAborted){return r["default"].reject(undefined,n.promiseLabel("Transition aborted - reject"))}}}a.currentSequence=0;a.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:true,state:null,queryParamsOnly:false,isTransition:true,isExiting:function(e){var r=this.handlerInfos;for(var t=0,n=r.length;t<n;++t){var a=r[t];if(a.name===e||a.handler===e){return false}}return true},promise:null,data:null,then:function(e,r,t){return this.promise.then(e,r,t)},"catch":function(e,r){return this.promise["catch"](e,r)},"finally":function(e,r){return this.promise["finally"](e,r)},abort:function(){if(this.isAborted){return this}n.log(this.router,this.sequence,this.targetName+": transition was aborted");this.intent.preTransitionState=this.router.state;this.isAborted=true;this.isActive=false;this.router.activeTransition=null;return this},retry:function(){this.abort();return this.router.transitionByIntent(this.intent,false)},method:function(e){this.urlMethod=e;return this},trigger:function(e){var r=n.slice.call(arguments);if(typeof e==="boolean"){r.shift()}else{e=false}n.trigger(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,r)},followRedirects:function(){var e=this.router;return this.promise["catch"](function(t){if(e.activeTransition){return e.activeTransition.followRedirects()}return r["default"].reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){n.log(this.router,this.sequence,e)}};a.prototype.send=a.prototype.trigger;function i(e){n.log(e.router,e.sequence,"detected abort.");return new s}function s(e){this.message=e||"TransitionAborted";this.name="TransitionAborted"}});n("router/utils",["exports"],function(e){"use strict";e.extractQueryParams=s;e.log=l;e.bind=u;e.forEach=f;e.trigger=d;e.getChangelist=c;e.promiseLabel=v;e.subclass=m;e.merge=a;e.isParam=h;e.coerceQueryParamsToString=o;e.callHook=g;e.resolveHook=p;e.applyHook=y;var r=Array.prototype.slice;var t;if(!Array.isArray){t=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{t=Array.isArray}var n=t;function a(e,r){for(var t in r){if(r.hasOwnProperty(t)){e[t]=r[t]}}}var i=Object.create||function(e){function r(){}r.prototype=e;return new r};function s(e){var t=e&&e.length,n,a;if(t&&t>0&&e[t-1]&&e[t-1].hasOwnProperty("queryParams")){a=e[t-1].queryParams;n=r.call(e,0,t-1);return[n,a]}else{return[e,null]}}function o(e){for(var r in e){if(typeof e[r]==="number"){e[r]=""+e[r]}else if(n(e[r])){for(var t=0,a=e[r].length;t<a;t++){e[r][t]=""+e[r][t]}}}}function l(e,r,t){if(!e.log){return}if(arguments.length===3){e.log("Transition #"+r+": "+t)}else{t=r;e.log(t)}}function u(e,t){var n=arguments;return function(a){var i=r.call(n,2);i.push(a);return t.apply(e,i)}}function h(e){return typeof e==="string"||e instanceof String||typeof e==="number"||e instanceof Number}function f(e,r){for(var t=0,n=e.length;t<n&&false!==r(e[t]);t++){}}function d(e,r,t,n){if(e.triggerEvent){e.triggerEvent(r,t,n);return}var a=n.shift();if(!r){if(t){return}throw new Error("Could not trigger event '"+a+"'. There are no active handlers")}var i=false;for(var s=r.length-1;s>=0;s--){var o=r[s],l=o.handler;if(l.events&&l.events[a]){if(l.events[a].apply(l,n)===true){i=true}else{return}}}if(!i&&!t){throw new Error("Nothing handled the event '"+a+"'.")}}function c(e,r){var t;var i={all:{},changed:{},removed:{}};a(i.all,r);var s=false;o(e);o(r);for(t in e){if(e.hasOwnProperty(t)){if(!r.hasOwnProperty(t)){s=true;i.removed[t]=e[t]}}}for(t in r){if(r.hasOwnProperty(t)){if(n(e[t])&&n(r[t])){if(e[t].length!==r[t].length){i.changed[t]=r[t];s=true}else{for(var l=0,u=e[t].length;l<u;l++){if(e[t][l]!==r[t][l]){i.changed[t]=r[t];s=true}}}}else{if(e[t]!==r[t]){i.changed[t]=r[t];s=true}}}}return s&&i}function v(e){return"Router: "+e}function m(e,r){function t(r){e.call(this,r||{})}t.prototype=i(e.prototype);a(t.prototype,r);return t}function p(e,r){if(!e){return}var t="_"+r;return e[t]&&t||e[r]&&r}function g(e,r,t,n){var a=p(e,r);return a&&e[a].call(e,t,n)}function y(e,r,t){var n=p(e,r);if(n){if(t.length===0){return e[n].call(e)}else if(t.length===1){return e[n].call(e,t[0])}else if(t.length===2){return e[n].call(e,t[0],t[1])}else{return e[n].apply(e,t)}}}e.isArray=n;e.oCreate=i;e.slice=r});n("router",["exports","./router/router"],function(e,r){"use strict";e["default"]=r["default"]});n("route-recognizer",[],function(){return{"default":t}});n("rsvp",[],function(){return r});n("rsvp/promise",[],function(){return{"default":r.Promise}});window.Router=a("router")})(window,window.RSVP,window.RouteRecognizer);